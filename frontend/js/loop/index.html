<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
     
    <meta name="keywords" content="编程, 游戏, 设计" />
     
    <meta name="description" content="Developer &amp; Designer" />
    
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>
      迭代器、Switch、Array循环 |  Gaofang Huang
    </title>
    
    <link rel="shortcut icon" href="/favicon.png" />
     
<link rel="stylesheet" href="/css/main.css">
 
    <script src="https://cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
     
 

  <meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Gaofang Huang" type="application/atom+xml">
</head>
</html>


<body>
  <div id="app">
    <header id="header" class="header-wrap">
  
  <a class="header-logo" href="/">
    <img src="/images/logo.png" alt="Gaofang Huang" />
  </a>
  
  <nav id="siteMenu" class="header-nav-wrap container">
    <ul class="header-nav-list">
      
      <li class="header-nav-item">
        <a class="header-nav-link" href="/">
          主页
        </a>
      </li>
      
      <li class="header-nav-item">
        <a class="header-nav-link" href="/project">
          项目
        </a>
      </li>
      
      <li class="header-nav-item">
        <a class="header-nav-link" href="https://huanggaofang.lofter.com" target="_blank" rel="noopener">
          图集
        </a>
      </li>
      
      <li class="header-nav-item">
        <a class="header-nav-link" href="/archives">
          归档
        </a>
      </li>
      
      <li class="header-nav-item">
        <a class="header-nav-link" href="/about">
          关于
        </a>
      </li>
      
    </ul>
  </nav>
  <div class="header-search">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-search"></use>
    </svg>
  </div>
</header>
<div class="header-menu" onclick="toggleMenu()">
  <svg class="icon icon-menu" aria-hidden="true">
    <use xlink:href="#icon-caidan"></use>
  </svg>
  <svg class="icon icon-close" aria-hidden="true">
    <use xlink:href="#icon-close"></use>
  </svg>
</div>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <div class="container">
    <input
      type="search"
      id="local-search-input"
      class="local-search-input"
      placeholder="Search..."
    />
    <div id="local-search-result" class="local-search-result"></div>
  </div>
</div>

</div>

    <div class="layout">
      <main class="main-wrap">
        <div class="post-wrap">
  <div class="page-banner flex flex-x flex-y">
    <canvas id="bannerAni"></canvas>
  </div>
  <div class="container">
    <article
  id="post-frontend/js/loop"
  class="article-wrap article-type-post index-box"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title flex flex-y" style="border-left: 0;" itemprop="name">
  <span>迭代器、Switch、Array循环</span>
  
</h1>
 

    </header>
     
    <div class="article-meta flex flex-y">
      
  <div class="article-category flex flex-y">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-wenjianjia"></use>
    </svg>
    <a class="article-category-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">前端开发笔记</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">3.1k字</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">12分钟</span>
        </span>
    </span>
</div>
  <a href="/frontend/js/loop/" class="article-date">
  <time datetime="2020-03-12T03:35:26.000Z" itemprop="datePublished">2020-03-12</time>
</a>
    </div>
     
    <div class="article-entry" itemprop="articleBody">
      
 
      <div class="markdown-view">
        <p><a href="https://gaofanghuang.github.io/demo/api/loop/demo1" target="_blank" rel="noopener">查看 demo</a></p>
<h2 id="for"><a href="#for" class="headerlink" title="for"></a>for</h2><p>for 语句用于创建一个循环，它包含了三个可选的表达式，这三个表达式被包围在圆括号之中，使用分号分隔，后跟一个用于在循环中执行的语句（通常是一个块语句）。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ([initialization]; [condition]; [final - expression]) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p><strong>initialization</strong>: 一个表达式 (包含赋值语句) 或者变量声明。典型地被用于初始化一个计数器。该表达式可以使用 var 或 let 关键字声明新的变量，使用 var 声明的变量不是该循环的局部变量，而是与 for 循环处在同样的作用域中。用 let 声明的变量是语句的局部变量。该表达式的结果无意义。</p>
<p><strong>condition</strong>: 一个条件表达式被用于确定每一次循环是否能被执行。如果该表达式的结果为 true，statement 将被执行。这个表达式是可选的。如果被忽略，那么就被认为永远为真。如果计算结果为假，那么执行流程将被跳到 for 语句结构后面的第一条语句。</p>
<p><strong>final-expression</strong>: 每次循环的最后都要执行的表达式。执行时机是在下一次 condition 的计算之前。通常被用于更新或者递增计数器变量。</p>
<p><strong>statement</strong>: 只要 condition 的结果为 true 就会被执行的语句。要在循环体内执行多条语句，使用一个块语句（{ … }）来包含要执行的语句。没有任何语句要执行，使用一个空语句（;）。</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意，for 里的三个表达式是可省略的(如果条件语句省略，必须确保在循环体内跳出，否则将造成死循环)，例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line"><span class="comment">// 注意，for()里的分号是强制性的不可省略</span></span><br><span class="line"><span class="keyword">for</span> (;;) &#123;</span><br><span class="line">  <span class="keyword">if</span> (i &gt; <span class="number">3</span>) <span class="keyword">break</span></span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">  i++</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="for…in"><a href="#for…in" class="headerlink" title="for…in"></a>for…in</h2><p>以任意顺序遍历一个对象的除 Symbol 以外的可枚举属性。</p>
<h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (variable <span class="keyword">in</span> iterable) &#123;</span><br><span class="line">  <span class="comment">//statements</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>variable</strong> 在每次迭代时，variable 会被赋值为不同的属性名。</p>
<p><strong>object</strong> 非 Symbol 类型的可枚举属性被迭代的对象。</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, obj[key])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="停止迭代"><a href="#停止迭代" class="headerlink" title="停止迭代"></a>停止迭代</h3><p>对于 for…of 的循环，可以由<code>break</code>, <code>throw</code>, <code>continue</code>或<code>return</code>终止。</p>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li>次序问题，遍历数组时不要使用<code>for...in</code></li>
</ol>
<p>for…in 的迭代顺序依赖执行环境，不一定是数组的索引顺序。当需要遍历数组时，使用 forEach 或 for…of 更好。</p>
<ol start="2">
<li>只迭代自身属性</li>
</ol>
<p>for…in 无法迭代类的原型，只能迭代类的属性。</p>
<ol start="3">
<li>在 ts 中使用以下方法代替</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key of <span class="built_in">Object</span>.keys(obj)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key, obj[key])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ol>
<li><p>迭代对象：key-value 数据</p>
</li>
<li><p>检查某键是否为某值时</p>
</li>
</ol>
<h2 id="for…of"><a href="#for…of" class="headerlink" title="for…of"></a>for…of</h2><p>在可迭代对象（包括 Array，Map，Set，String，TypedArray，arguments 对象，DOM 元素集合等等）上创建一个迭代循环，调用自定义迭代钩子，并为每个不同属性的值执行语句.</p>
<p><strong>TypedArray</strong>：类型化数组。</p>
<p><strong>Map</strong>：Map 对象保存键值对，并且能够记住键的原始插入顺序。任何值(对象或者原始值) 都可以作为一个键或一个值。</p>
<p><strong>Set</strong>：Set 对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。</p>
<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (variable <span class="keyword">of</span> iterable) &#123;</span><br><span class="line">  <span class="comment">//statements</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>variable</strong> 在每次迭代中，将不同属性的值分配给变量。</p>
<p><strong>iterable</strong> 被迭代枚举其属性的对象。</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> list) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="停止迭代-1"><a href="#停止迭代-1" class="headerlink" title="停止迭代"></a>停止迭代</h3><p>对于 for…of 的循环，可以由<code>break</code>, <code>throw</code>, <code>continue</code>或<code>return</code>终止。</p>
<h3 id="常见问题-1"><a href="#常见问题-1" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li>不能迭代对象</li>
</ol>
<p>obj is not iterable</p>
<ol start="2">
<li>不能迭代类</li>
</ol>
<p>Ani is not iterable</p>
<ol start="3">
<li>不能重复迭代生成器</li>
</ol>
<p>同一个生成器只能迭代一次</p>
<h2 id="while"><a href="#while" class="headerlink" title="while"></a>while</h2><p>while 语句可以在某个条件表达式为真的前提下，循环执行指定的一段代码，直到那个表达式不为真时结束循环</p>
<h3 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (condition) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> (i &lt; <span class="number">10</span>) &#123;</span><br><span class="line">  i++</span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="do…while"><a href="#do…while" class="headerlink" title="do…while"></a>do…while</h2><p>do…while 语句创建一个执行指定语句的循环，直到 condition 值为 false。在执行 statement 后检测 condition，所以指定的 statement 至少执行一次。</p>
<h3 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125; <span class="keyword">while</span> (condition)</span><br></pre></td></tr></table></figure>

<p><strong>statement</strong>: 执行至少一次的语句，并在每次 condition 值为真时重新执行。想执行多行语句，可使用 block 语句（{ … }）包裹这些语句。</p>
<p><strong>condition</strong>: 循环中每次都会计算的表达式。如果 condition 值为真， statement 会再次执行。当 condition 值为假，则跳到 do…while 之后的语句。</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  i += <span class="number">1</span></span><br><span class="line">  <span class="built_in">console</span>.log(i)</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">5</span>)</span><br></pre></td></tr></table></figure>

<h3 id="常见问题-2"><a href="#常见问题-2" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li>当 <strong>condition</strong> 一直为 <code>true</code> 时，会一直循环至浏览器崩溃为止。</li>
</ol>
<h2 id="for-await…of"><a href="#for-await…of" class="headerlink" title="for await…of"></a>for await…of</h2><p>for await…of 语句会在异步或者同步可迭代对象上创建一个迭代循环，包括 String，Array，Array-like 对象（比如 arguments 或者 NodeList)，TypedArray，Map， Set 和自定义的异步或者同步可迭代对象。其会调用自定义迭代钩子，并为每个不同属性的值执行语句。</p>
<h3 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="keyword">await</span> (variable <span class="keyword">of</span> iterable) &#123;</span><br><span class="line">  statement</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>variable</strong> 在每次迭代中，将不同属性的值分配给变量。变量有可能以 const, let, 或者 var 来声明。</p>
<p><strong>iterable</strong> 被迭代枚举其属性的对象。与 for…of 相比，这里的对象可以返回 Promise，如果是这样，那么 variable 将是 Promise 所包含的值，否则是值本身。</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span>* <span class="title">asyncGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> (i &lt; <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> i++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">;(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">await</span> (num <span class="keyword">of</span> asyncGenerator()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(num)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>

<h2 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h2><p>switch 语句评估一个表达式，将表达式的值与 case 子句匹配，并执行与该情况相关联的语句。</p>
<h3 id="语法-6"><a href="#语法-6" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression) &#123;</span><br><span class="line">  <span class="keyword">case</span> value1:</span><br><span class="line">    <span class="comment">// 当 expression 的结果与 value1 匹配时，执行此处语句</span></span><br><span class="line">    [<span class="keyword">break</span>;]</span><br><span class="line">  <span class="keyword">case</span> value2:</span><br><span class="line">    <span class="comment">// 当 expression 的结果与 value2 匹配时，执行此处语句</span></span><br><span class="line">    [<span class="keyword">break</span>;]</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">case</span> valueN:</span><br><span class="line">    <span class="comment">// 当 expression 的结果与 valueN 匹配时，执行此处语句</span></span><br><span class="line">    [<span class="keyword">break</span>;]</span><br><span class="line">  [<span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// 如果 expression 与上面的 value 值都不匹配，执行此处语句</span></span><br><span class="line">    [<span class="keyword">break</span>;]]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>expression</strong>:一个用来与 case 子语句匹配的表达式。</p>
<p><strong>case valueN</strong>: 可选。用于匹配 expression 的 case 子句。如果 expression 与给定的 valueN 相匹配，则执行该 case 子句中的语句直到该 switch 语句结束或遇到一个 break 。</p>
<p><strong>default 可选</strong>：一个 default 子句；如果给定，这条子句会在 expression 的值与任一 case 语句均不匹配时执行。</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (animal.name) &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="string">'dog'</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Dag age is 10.'</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'cat'</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Cat age is 4.'</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">case</span> <span class="string">'fish'</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'fish age is 1.'</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'什么也没找到'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常见问题-3"><a href="#常见问题-3" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li>两个 case 之间没有 break</li>
</ol>
<p>即上一个匹配的 case 没有 break，那么下一个 case 里的语句也会被执行，知道遇到 break。</p>
<ol start="2">
<li>default 的位置</li>
</ol>
<p>default 的位置不一定要放在流程的最后，也可以在第一个或者随便中间的某个位置，但是如果为了代码看起来更规范，还是建议放在流程尾部。</p>
<ol start="3">
<li>多 case 单一操作</li>
</ol>
<p>如果 case 语句之下没有 break ，它将继续执行下一个 case 语句，而不管 case 是否符合条件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">switch (animal.name) &#123;</span><br><span class="line">  case &#39;dog&#39;:</span><br><span class="line">  case &#39;cat&#39;:</span><br><span class="line">  case &#39;fish&#39;:</span><br><span class="line">    console.log(&#39;fish age is 1.&#39;)</span><br><span class="line">    break</span><br><span class="line">  default:</span><br><span class="line">    console.log(&#39;什么也没找到&#39;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="arr-every"><a href="#arr-every" class="headerlink" title="arr.every()"></a>arr.every()</h2><p>测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。</p>
<p><strong>注意</strong>：若收到一个空数组，此方法在一切情况下都会返回 true。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> score = [<span class="number">16</span>, <span class="number">30</span>, <span class="number">39</span>, <span class="number">29</span>, <span class="number">10</span>, <span class="number">13</span>]</span><br><span class="line"><span class="keyword">const</span> res = score.every(<span class="function">(<span class="params">item</span>) =&gt;</span> item &gt; <span class="number">9</span>)</span><br><span class="line"><span class="built_in">console</span>.log(res) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h2 id="arr-some"><a href="#arr-some" class="headerlink" title="arr.some()"></a>arr.some()</h2><p>测试数组中是不是至少有1个元素通过了被提供的函数测试。它返回的是一个Boolean类型的值。</p>
<h3 id="语法-7"><a href="#语法-7" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr.some(callback(element[, index[, array]])[, thisArg])</span><br></pre></td></tr></table></figure>

<p><strong>callback</strong> 生成新数组元素的函数，使用三个参数：</p>
<ul>
<li><p>element 数组中正在处理的元素。</p>
</li>
<li><p>index 可选 数组中正在处理的元素的索引值。</p>
</li>
<li><p>array 可选 some 方法调用的数组。</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选 执行 callback 函数时值被用作this。</p>
<h2 id="arr-fill"><a href="#arr-fill" class="headerlink" title="arr.fill()"></a>arr.fill()</h2><p>用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。</p>
<h3 id="语法-8"><a href="#语法-8" class="headerlink" title="语法"></a>语法</h3><p><code>arr.fill(value[, start[, end]])</code></p>
<p><strong>value</strong> 用来填充数组元素的值。</p>
<p><strong>start</strong> 可选，起始索引，默认值为 0。</p>
<p><strong>end</strong> 可选，终止索引，默认值为 this.length。</p>
<h3 id="常见问题-4"><a href="#常见问题-4" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li><p><code>fill</code> 方法会改变数组本身。</p>
</li>
<li><p>start 和 end 参数是可选的, 其默认值分别为 0 和 this 对象的 length 属性值。如果 start 是个负数, 则开始索引会被自动计算成为 length+start, 其中 length 是 this 对象的 length 属性值。如果 end 是个负数, 则结束索引会被自动计算成为 length+end</p>
</li>
<li><p><code>fill</code> 方法可以用于非数组对象。(???)</p>
</li>
<li><p>当一个对象被传递给 fill 方法的时候, 填充数组的是这个对象的引用。</p>
</li>
</ol>
<h2 id="arr-filter"><a href="#arr-filter" class="headerlink" title="arr.filter()"></a>arr.filter()</h2><p>创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。</p>
<h3 id="语法-9"><a href="#语法-9" class="headerlink" title="语法"></a>语法</h3><p><code>var newArray = arr.filter(callback(element[, index[, array]])[, thisArg])</code></p>
<p><strong>callback</strong> 用来测试数组的每个元素的函数。返回 true 表示该元素通过测试，保留该元素，false 则不保留。它接受以下三个参数：</p>
<ul>
<li><p>element 数组中当前正在处理的元素。</p>
</li>
<li><p>index 可选 正在处理的元素在数组中的索引。</p>
</li>
<li><p>array 可选 调用了 filter 的数组本身。</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选, 执行 callback 时，用于 this 的值。</p>
<h2 id="arr-find"><a href="#arr-find" class="headerlink" title="arr.find()"></a>arr.find()</h2><p>返回数组中满足提供的测试函数的第一个元素的值。否则返回 undefined。</p>
<h3 id="语法-10"><a href="#语法-10" class="headerlink" title="语法"></a>语法</h3><p><code>arr.find(callback[, thisArg])</code></p>
<p><strong>callback</strong> 在数组每一项上执行的函数，接收 3 个参数：</p>
<ul>
<li><p>element 当前遍历到的元素。</p>
</li>
<li><p>index 可选 当前遍历到的索引。</p>
</li>
<li><p>array 可选 数组本身。</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选 执行回调时用作 this 的对象。</p>
<h2 id="arr-findIndex"><a href="#arr-findIndex" class="headerlink" title="arr.findIndex()"></a>arr.findIndex()</h2><p>返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1。</p>
<h3 id="语法-11"><a href="#语法-11" class="headerlink" title="语法"></a>语法</h3><p><code>arr.findIndex(callback[, thisArg])</code></p>
<p><strong>callback</strong> 针对数组中的每个元素, 都会执行该回调函数, 执行时会自动传入下面三个参数:</p>
<ul>
<li><p>element 当前元素。</p>
</li>
<li><p>index 当前元素的索引。</p>
</li>
<li><p>array 调用 findIndex 的数组。</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选。执行 callback 时作为 this 对象的值。</p>
<h2 id="arr-map"><a href="#arr-map" class="headerlink" title="arr.map()"></a>arr.map()</h2><p>创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</p>
<h3 id="语法-12"><a href="#语法-12" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> new_array = arr.map(<span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">currentValue[, index[, array]]</span>) </span>&#123;</span><br><span class="line"> <span class="comment">// Return element for new_array</span></span><br><span class="line">&#125;[, thisArg])</span><br></pre></td></tr></table></figure>

<p><strong>callback</strong> 生成新数组元素的函数，使用三个参数：</p>
<ul>
<li><p>currentValue callback 数组中正在处理的当前元素。</p>
</li>
<li><p>index 可选 callback 数组中正在处理的当前元素的索引。</p>
</li>
<li><p>array 可选 map 方法调用的数组。</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选 执行 callback 函数时值被用作 this。</p>
<h2 id="arr-flatMap"><a href="#arr-flatMap" class="headerlink" title="arr.flatMap()"></a>arr.flatMap()</h2><p>首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。</p>
<h3 id="语法-13"><a href="#语法-13" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> new_array = arr.flatMap(<span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">currentValue[, index[, array]]</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// return element for new_array</span></span><br><span class="line">&#125;[, thisArg])</span><br></pre></td></tr></table></figure>

<p><strong>callback</strong> 可以生成一个新数组中的元素的函数，可以传入三个参数：</p>
<ul>
<li><p>currentValue 当前正在数组中处理的元素</p>
</li>
<li><p>index 可选 数组中正在处理的当前元素的索引。</p>
</li>
<li><p>array 可选 被调用的 map 数组</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选 执行 callback 函数时 使用的 this 值。</p>
<h2 id="arr-forEach"><a href="#arr-forEach" class="headerlink" title="arr.forEach()"></a>arr.forEach()</h2><p>对数组的每个元素执行一次给定的函数。</p>
<h3 id="语法-14"><a href="#语法-14" class="headerlink" title="语法"></a>语法</h3><p><code>arr.forEach(callback(currentValue [, index [, array]])[, thisArg])</code></p>
<p><strong>callback</strong> 为数组中每个元素执行的函数，该函数接收一至三个参数：</p>
<ul>
<li><p>currentValue 数组中正在处理的当前元素。</p>
</li>
<li><p>index 可选 数组中正在处理的当前元素的索引。</p>
</li>
<li><p>array 可选 forEach() 方法正在操作的数组。</p>
</li>
</ul>
<p><strong>thisArg</strong> 可选 当执行回调函数 callback 时，用作 this 的值。</p>
<h3 id="常见问题-5"><a href="#常见问题-5" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li>forEach 无法跳出循环</li>
</ol>
<p>除了抛出异常以外，没有办法中止或跳出 forEach() 循环。只要条件允许，也可以使用 filter() 提前过滤出需要遍历的部分，再用 forEach() 处理。</p>
<p>若你需要提前终止循环，你可以使用：</p>
<p><code>for...of</code> / <code>for...in</code> 循环</p>
<p><code>arr.every()</code></p>
<p><code>arr.some()</code></p>
<p><code>arr.find()</code></p>
<p><code>arr.findIndex()</code></p>
<p>这些数组方法则可以对数组元素判断，以便确定是否需要继续遍历：</p>
<p><code>every()</code></p>
<p><code>some()</code></p>
<p><code>find()</code></p>
<p><code>findIndex()</code></p>

      </div>
      
      <!-- updated -->
      
      
<div class="post-update">
  <span>更新于：</span>
  <time>2020-05-15</time>
</div>

      
      <!-- reward -->
      
      <div id="reward-btn">
        打赏
      </div>
      <div id="rewardMask" class="mask-wrap"></div>

<!-- #reward -->
<div id="reward" class="modal-wrap">
  <div class="reward-title flex flex-y flex-x">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-smile"></use>
    </svg>
    <span>请我喝杯咖啡吧~</span>
  </div>
  <div class="reward-box flex flex-y">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
  <div class="modal-close">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-close"></use>
    </svg>
  </div>
</div> 
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <div class="post-copyright">
        <i class="ri-copyright-line"></i>
        <strong>版权声明： </strong>
        本博客所有文章除特别声明外，均采用
        <a
          href="https://www.apache.org/licenses/LICENSE-2.0.html"
          rel="external nofollow"
          target="_blank"
          >Apache License 2.0</a
        >
        许可协议。转载请注明出处！
      </div>
    </div>
    
    <footer class="article-footer">
      
<div class="article-tag-wrap flex flex-y">
  <svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-tags"></use>
  </svg>
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a></li></ul>
</div>

  
<div class="share-wrap flex flex-y" id="shareBar">
  <span class="share-btn flex flex-y">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-fenxiang"></use>
    </svg>
    分享到
  </span>
  <div class="share-list flex flex-y">
    <a class="weibo share-sns-btn" href="javascript:;" data-type="weibo">
      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-weibo"></use>
      </svg>
    </a>
    <a class="douban share-sns-btn" href="javascript:;" data-type="douban">
      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-douban"></use>
      </svg>
    </a>
    <a class="qq share-sns-btn" href="javascript:;" data-type="qq">
      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-qq"></use>
      </svg>
    </a>
    <a
      class="weixin share-sns-btn wxFab"
      href="javascript:;"
      data-type="weixin"
    >
      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-weixin"></use>
      </svg>
    </a>
  </div>
</div>

<div id="shareMask" class="mask-wrap"></div>
<div class="modal-wrap wx-share-modal">
  <div class="share-weixin-title">扫一扫，分享到微信</div>
  <div class="wx-qrcode">
    <img
      src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://huanggaofang.com/frontend/js/loop/"
      alt="微信分享二维码"
    />
  </div>
  <div class="modal-close" id="wxClose">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-close"></use>
    </svg>
  </div>
</div>
 
    </footer>
  </div>

   
  <nav class="article-nav">
    
      <div class="article-nav-link article-nav-prev">
        <strong class="article-nav-caption">上一篇</strong>
        <a href="/project/textreader/" class="article-nav-title">
          
            Text Reader For Web 文本阅读器
          
        </a>
      </div>
    
    
      <div class="article-nav-link article-nav-next">
        <strong class="article-nav-caption">下一篇</strong>
        <a href="/project/midi-keyboard/" class="article-nav-title">MIDI-Keyboard</a>
      </div>
    
  </nav>

   
<!-- valine评论 -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#vcomments',
        app_id: 'XRQh2zhUCEHXwiKhGSKRsgG1-gzGzoHsz',
        app_key: '7lenjWI8UhDxmR67gJm8s8EQ',
        path: window.location.pathname,
        notify: 'false',
        verify: 'false',
        avatar: 'mp',
        placeholder: '给我的文章加点评论吧~',
        recordIP: true
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>
<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>
 
</article>

  <div class="toc-bot-btn" id="tocBotBtn">
  <svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-menu"></use>
  </svg>
</div>
<div class="toc-bot-wrap" id="tocBotWrap">
  <div class="toc-bot-close" id="tocBotClose">
    <svg class="icon" aria-hidden="true">
      <use xlink:href="#icon-close"></use>
    </svg>
  </div>
  <div id="tocBot"></div>
</div>
  

  </div>
</div>

      </main>
      <footer class="footer-wrap">
  <div class="container">
      <div class="left">
        <div class="footer-copyright flex flex-y">
          &copy;
          2017-2021
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-heart1"></use>
          </svg>
          Gaofang Huang
        </div>
        <div class="footer-count">
          
            
            <div class="busuanzi-count">
  <span>PV:<i id="busuanzi_value_page_pv"></i></span>
  <span>UV:<i id="busuanzi_value_site_uv"></i></span>
</div>
          
        </div>
      </div>
      <div class="right">
        
          
          
          <div class="footer-powered">Powered by <a href="https://hexo.io" target="_blank">Hexo</a></div>
          <div class="footer-theme">Theme by <a href="https://github.com/gaofanghuang/gaofanghuang" target="_blank">Carrot</a></div>
        
      </div>
  </div>
</footer>
      <div class="to-top" id="toTop">
  <svg class="icon" aria-hidden="true">
    <use xlink:href="#icon-arrowleft"></use>
  </svg>
</div>
    </div>
  </div>
  <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

<script src="/js/rem.js"></script>


<script src="/js/common.js"></script>


<script src="/js/iconfont.js"></script>


<script src="/js/share.js"></script>


<script src="/js/banner.js"></script>



  
<script src="/js/busuanzi-2.3.pure.min.js"></script>




  
<script src="/js/tocbot.min.js"></script>

  <script>
    // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
    tocbot.init({
      tocSelector: '#tocBot',
      contentSelector: '.article-entry',
      headingSelector: 'h2, h3, h4',
      hasInnerContainers: true,
      scrollSmooth: true,
      scrollContainer: 'document',
      onClick: (e) => {
        $('#tocBot .toc-link').removeClass('is-active-link');
        $(`a[href=${e.target.hash}]`).addClass('is-active-link');
        return false;
      }
    });
  </script>
  
</body>

</html>